/*!
 * 
 * Presto Player
 * 
 * @author Presto Made, Inc
 * @version 0.1.0
 * @link undefined
 * @license GPL
 * 
 * Copyright (c) 2022 Presto Made, Inc
 * 
 * This software is released under the GPL License
 * https://opensource.org/licenses/GPL
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprestoPlayeranalyticsJsonp=window.wpackioprestoPlayeranalyticsJsonp||[]).push([[0],{24:function(e,t){e.exports=window.wp.element},27:function(e,t){e.exports=window.wp.apiFetch},28:function(e,t){e.exports=window.wp.components},35:function(e,t,a){a(36),e.exports=a(49)},49:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(20),c=a(21),l=a(12),o=a(22),i=a(23),s=a(16),p=a(4),u=a(24),d=a(25),f=a.n(d);function m(e){return{path:e.pathname,hash:e.hash,query:f.a.parse(e.search)}}var b=a(32),h=Object(b.a)(),y=wp.element.createContext({route:m(h.location)}),v=a(8),w=wp.element.useContext,g="";function E(e){var t=e.path,a=e.onRoute,r=e.children,n=w(y).route,c=Object(v.a)("".concat(t))("".concat(n.hash.substr(1)));return c?(a&&(g!==c.path&&a(),g=c.path),React.createElement("div",null,wp.element.cloneElement(r,{route:c}))):null}var R=a(14),O=a.n(R);wp.element.useContext;function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(s.a)(e);if(t){var n=Object(s.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(i.a)(this,a)}}var x=function(e){Object(o.a)(a,e);var t=j(a);function a(e){var r;Object(n.a)(this,a),r=t.call(this,e),Object(p.a)(Object(l.a)(r),"handleRouteChange",(function(e){var t=m(null==e?void 0:e.location);r.setState({route:t})})),r.routes=Object.keys(e.routes).map((function(t){return e.routes[t].path})),r.unlisten=h.listen(r.handleRouteChange);var c=m(h.location),o=h.location.search;return r.state={route:c,defaultRoute:null!=e&&e.defaultRoute?"".concat(o,"#").concat(null==e?void 0:e.defaultRoute):"".concat(o,"#/")},r}return Object(c.a)(a,[{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this.props,t=e.children,a=(e.NotFound,this.state),r=a.route,n=a.defaultRoute;if(!r.hash)return h.push(n),React.createElement("div",null);var c=!1;(this.routes||[]).forEach((function(e){var t=Object(v.a)(r.hash.substr(1))("".concat(r.hash.substr(1)));t&&(c={name:e,data:t})}));var l={route:r,matched:c},o=!c;return React.createElement(y.Provider,{value:l},o?React.createElement("div",null,"Not found"):t)}}]),a}(u.Component),_=function(e){var t=e.width,a=e.height;return React.createElement("svg",{id:"e8f68bdd-4984-4f2e-95b7-7fc8ec281257","data-name":"Layer 1",width:t,height:a,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 918.14 765.54"},React.createElement("defs",null,React.createElement("linearGradient",{id:"27aa7b70-b106-4a00-be67-693c8380e41d",x1:"397.74",y1:"717.25",x2:"397.74",y2:"86.11",gradientUnits:"userSpaceOnUse"},React.createElement("stop",{offset:"0","stop-color":"gray","stop-opacity":"0.25"}),React.createElement("stop",{offset:"0.54","stop-color":"gray","stop-opacity":"0.12"}),React.createElement("stop",{offset:"1","stop-color":"gray","stop-opacity":"0.1"})),React.createElement("linearGradient",{id:"46a816da-c484-41ec-8a6f-fbf14454d910",x1:"288.88",y1:"378.44",x2:"288.88",y2:"209.65",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"32b634d8-28f1-48d9-a868-f602a2cad942",x1:"288.88",y1:"328.29",x2:"288.88",y2:"223.1",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("clipPath",{id:"7a4c6aff-0be0-461b-a111-b3ae1b8fbf73",transform:"translate(-140.93 -67.23)"},React.createElement("rect",{id:"8cc91f6d-19b0-43cc-9c18-2faa83ac34ba","data-name":"<Rectangle>",x:"354.51",y:"291.55",width:"150.6",height:"101.52",fill:"#fff"})),React.createElement("linearGradient",{id:"38f1cb81-8fac-4205-a0ff-a33ac00d354c",x1:"288.88",y1:"594.94",x2:"288.88",y2:"426.14",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"6fc01aaf-135e-403e-a209-43b2a4fe59f1",x1:"288.88",y1:"544.79",x2:"288.88",y2:"439.6",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("clipPath",{id:"79ce363a-d134-40e4-9f82-b96d04a36978",transform:"translate(-140.93 -67.23)"},React.createElement("rect",{id:"5b44e697-61fe-43bd-9a58-5f3e41301748","data-name":"<Rectangle>",x:"354.51",y:"508.05",width:"150.6",height:"101.52",fill:"#fff"})),React.createElement("linearGradient",{id:"54803c44-522d-4b9e-9a34-f1f7b43e8483",x1:"671.57",y1:"760.34",x2:"671.57",y2:"129.2",gradientTransform:"translate(1109.43 -194.1) rotate(90)",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"089a6a47-adaa-499b-aefb-cd6464b62fb8",x1:"670.96",y1:"553.63",x2:"670.96",y2:"387.28",gradientTransform:"translate(1129.51 -168.41) rotate(90)",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"fd8d88e0-7826-450d-9e0b-001d1be709c2",x1:"637.66",y1:"754.12",x2:"637.66",y2:"601.05",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"8d1793c5-b76e-44e2-a52e-569460402331",x1:"778.37",y1:"673.86",x2:"778.37",y2:"569.13",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"4745700d-8097-45ff-9f71-625443fc4ad8",x1:"778.37",y1:"774.41",x2:"778.37",y2:"713.66",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"})),React.createElement("title",null,"secure data"),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"162.9",y:"86.11",width:"469.69",height:"631.14",fill:"url(#27aa7b70-b106-4a00-be67-693c8380e41d)"})),React.createElement("rect",{x:"169.02",y:"94.67",width:"455.01",height:"609.12",fill:"#f2f2f2"}),React.createElement("rect",{x:"204.49",y:"120.36",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"204.49",y:"142.37",width:"156.56",height:"4.89",fill:"#6c63ff",opacity:"0.7"}),React.createElement("rect",{x:"384.29",y:"120.36",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"408.75",y:"259.8",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"412.42",y:"273.25",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"419.76",y:"286.7",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"408.75",y:"476.29",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"412.42",y:"489.75",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"419.76",y:"503.2",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"205.71",y:"209.65",width:"166.35",height:"168.79",fill:"url(#46a816da-c484-41ec-8a6f-fbf14454d910)"})),React.createElement("rect",{x:"206.76",y:"213.32",width:"163.72",height:"161.45",fill:"#f5f5f5"}),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"212.53",y:"223.1",width:"152.7",height:"105.19",fill:"url(#32b634d8-28f1-48d9-a868-f602a2cad942)"})),React.createElement("rect",{id:"689f37f3-cc41-448d-b172-63ec123bc985","data-name":"<Rectangle>",x:"213.58",y:"224.32",width:"150.6",height:"101.52",fill:"#fff"}),React.createElement("g",{"clip-path":"url(#7a4c6aff-0be0-461b-a111-b3ae1b8fbf73)"},React.createElement("polygon",{points:"200.82 322.18 238.74 263.46 254.64 289.15 288.88 253.68 318.24 289.15 343.93 236.56 409.98 341.75 195.93 334.41 200.82 322.18",fill:"#6c63ff",opacity:"0.4"}),React.createElement("circle",{cx:"230.17",cy:"239",r:"11.01",fill:"#6c63ff",opacity:"0.4"})),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"205.71",y:"426.14",width:"166.35",height:"168.79",fill:"url(#38f1cb81-8fac-4205-a0ff-a33ac00d354c)"})),React.createElement("rect",{x:"206.76",y:"429.81",width:"163.72",height:"161.45",fill:"#f5f5f5"}),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"212.53",y:"439.6",width:"152.7",height:"105.19",fill:"url(#6fc01aaf-135e-403e-a209-43b2a4fe59f1)"})),React.createElement("rect",{id:"b429ac3a-f8a8-4171-bcce-5b6c002c0714","data-name":"<Rectangle>",x:"213.58",y:"440.82",width:"150.6",height:"101.52",fill:"#fff"}),React.createElement("g",{"clip-path":"url(#79ce363a-d134-40e4-9f82-b96d04a36978)"},React.createElement("polygon",{points:"200.82 538.67 238.74 479.96 254.64 505.65 288.88 470.18 318.24 505.65 343.93 453.05 409.98 558.24 195.93 550.9 200.82 538.67",fill:"#bdbdbd",opacity:"0.4"}),React.createElement("circle",{cx:"230.17",cy:"455.5",r:"11.01",fill:"#bdbdbd",opacity:"0.4"})),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"349.09",y:"242.63",width:"631.14",height:"469.69",transform:"translate(-74.16 969.06) rotate(-78.76)",fill:"url(#54803c44-522d-4b9e-9a34-f1f7b43e8483)"})),React.createElement("rect",{x:"359.37",y:"247.33",width:"609.12",height:"455.01",transform:"translate(-72.16 966.22) rotate(-78.76)",fill:"#fff"}),React.createElement("rect",{x:"523.5",y:"197.22",width:"322.91",height:"4.89",transform:"translate(-88.86 -196.94) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("rect",{x:"433.36",y:"650.7",width:"322.91",height:"4.89",transform:"translate(-2.18 -170.66) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("rect",{x:"428.58",y:"671.14",width:"249.52",height:"4.89",transform:"translate(1.01 -162.18) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("rect",{x:"424.6",y:"683.47",width:"92.96",height:"4.89",transform:"translate(1.84 -145.91) rotate(11.24)",fill:"#6c63ff",opacity:"0.7"}),React.createElement("rect",{x:"519.57",y:"209.08",width:"161.45",height:"4.89",transform:"translate(-88.17 -180.2) rotate(11.24)",fill:"#6c63ff",opacity:"0.7"}),React.createElement("rect",{x:"512.84",y:"249.31",width:"291.11",height:"4.89",transform:"translate(-79.21 -190.76) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("rect",{x:"509.47",y:"255.44",width:"70.94",height:"4.89",transform:"translate(-80.19 -168.52) rotate(11.24)",fill:"#3ad29f",opacity:"0.7"}),React.createElement("rect",{x:"501.56",y:"307.59",width:"322.91",height:"4.89",transform:"translate(-67.76 -190.54) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"575.87",y:"357.6",width:"166.35",height:"289.88",transform:"translate(-103.27 983.74) rotate(-78.76)",fill:"url(#089a6a47-adaa-499b-aefb-cd6464b62fb8)"})),React.createElement("rect",{x:"516.06",y:"420.61",width:"286.22",height:"162.68",transform:"translate(-30.42 -186.11) rotate(11.24)",fill:"#fff"}),React.createElement("rect",{x:"496.08",y:"335.18",width:"322.91",height:"4.89",transform:"translate(-62.49 -188.94) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("rect",{x:"547.86",y:"424.02",width:"35.47",height:"118.64",transform:"translate(-35.84 -168.22) rotate(11.24)",fill:"#6c63ff"}),React.createElement("rect",{x:"606.43",y:"475.19",width:"35.47",height:"79.5",transform:"translate(-28.56 -179.03) rotate(11.24)",fill:"#3ad29f"}),React.createElement("rect",{x:"665.23",y:"523.93",width:"35.47",height:"42.81",transform:"translate(-21.5 -189.92) rotate(11.24)",fill:"#f55f44"}),React.createElement("rect",{x:"731.91",y:"492.72",width:"35.47",height:"86.84",transform:"translate(-22.02 -203.09) rotate(11.24)",fill:"#fdd835"}),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"128.65",y:"645.09",width:"3.67",height:"20.79",fill:"#47e6b1"}),React.createElement("rect",{x:"269.58",y:"712.31",width:"3.67",height:"20.79",transform:"translate(853.2 384.07) rotate(90)",fill:"#47e6b1"})),React.createElement("path",{d:"M699.44,75.56a4.49,4.49,0,0,1-2.5-5.43,2.16,2.16,0,0,0,.1-.5h0a2.25,2.25,0,0,0-4-1.49h0a2.16,2.16,0,0,0-.25.44,4.49,4.49,0,0,1-5.43,2.5,2.16,2.16,0,0,0-.5-.1h0a2.25,2.25,0,0,0-1.49,4h0a2.16,2.16,0,0,0,.44.25,4.49,4.49,0,0,1,2.5,5.43,2.16,2.16,0,0,0-.1.5h0a2.25,2.25,0,0,0,4,1.49h0a2.16,2.16,0,0,0,.25-.44,4.49,4.49,0,0,1,5.43-2.5,2.16,2.16,0,0,0,.5.1h0a2.25,2.25,0,0,0,1.49-4h0A2.16,2.16,0,0,0,699.44,75.56Z",transform:"translate(-140.93 -67.23)",fill:"#4d8af0",opacity:"0.5"}),React.createElement("path",{d:"M286.33,179.4a4.49,4.49,0,0,1-2.5-5.43,2.16,2.16,0,0,0,.1-.5h0a2.25,2.25,0,0,0-4-1.49h0a2.16,2.16,0,0,0-.25.44,4.49,4.49,0,0,1-5.43,2.5,2.16,2.16,0,0,0-.5-.1h0a2.25,2.25,0,0,0-1.49,4h0a2.16,2.16,0,0,0,.44.25,4.49,4.49,0,0,1,2.5,5.43,2.16,2.16,0,0,0-.1.5h0a2.25,2.25,0,0,0,4,1.49h0a2.16,2.16,0,0,0,.25-.44,4.49,4.49,0,0,1,5.43-2.5,2.16,2.16,0,0,0,.5.1h0a2.25,2.25,0,0,0,1.49-4h0A2.16,2.16,0,0,0,286.33,179.4Z",transform:"translate(-140.93 -67.23)",fill:"#fdd835",opacity:"0.5"}),React.createElement("path",{d:"M253.63,484.46a4.49,4.49,0,0,1-2.5-5.43,2.16,2.16,0,0,0,.1-.5h0a2.25,2.25,0,0,0-4-1.49h0a2.16,2.16,0,0,0-.25.44,4.49,4.49,0,0,1-5.43,2.5,2.16,2.16,0,0,0-.5-.1h0a2.25,2.25,0,0,0-1.49,4h0a2.16,2.16,0,0,0,.44.25,4.49,4.49,0,0,1,2.5,5.43,2.16,2.16,0,0,0-.1.5h0a2.25,2.25,0,0,0,4,1.49h0a2.16,2.16,0,0,0,.25-.44,4.49,4.49,0,0,1,5.43-2.5,2.16,2.16,0,0,0,.5.1h0a2.25,2.25,0,0,0,1.49-4h0A2.16,2.16,0,0,0,253.63,484.46Z",transform:"translate(-140.93 -67.23)",fill:"#fdd835",opacity:"0.5"}),React.createElement("circle",{cx:"337.81",cy:"28.62",r:"7.34",fill:"#f55f44",opacity:"0.5"}),React.createElement("circle",{cx:"7.34",cy:"317.46",r:"7.34",fill:"#f55f44",opacity:"0.5"}),React.createElement("circle",{cx:"863.76",cy:"120.36",r:"7.34",fill:"#f55f44",opacity:"0.5"}),React.createElement("circle",{cx:"822.17",cy:"339.3",r:"7.34",fill:"#4d8af0",opacity:"0.5"}),React.createElement("circle",{cx:"37.68",cy:"145.22",r:"7.34",fill:"#47e6b1",opacity:"0.5"}),React.createElement("circle",{cx:"853.29",cy:"647.34",r:"7.34",fill:"#47e6b1",opacity:"0.5"}),React.createElement("circle",{cx:"910.8",cy:"430.97",r:"7.34",fill:"#47e6b1",opacity:"0.5"}),React.createElement("rect",{x:"544.42",y:"601.05",width:"186.48",height:"153.07",fill:"url(#fd8d88e0-7826-450d-9e0b-001d1be709c2)"}),React.createElement("path",{d:"M723.82,639a54.55,54.55,0,0,1,109.1,0v34.91h15.27V639a69.82,69.82,0,0,0-139.65,0v34.91h15.27Z",transform:"translate(-140.93 -67.23)",fill:"url(#8d1793c5-b76e-44e2-a52e-569460402331)"}),React.createElement("path",{d:"M726,638.25a52.37,52.37,0,1,1,104.74,0v33.52H845.4V638.25a67,67,0,0,0-134.06,0v33.52H726Z",transform:"translate(-140.93 -67.23)",fill:"#f5f5f5"}),React.createElement("rect",{x:"546.32",y:"602.45",width:"182.24",height:"148.73",fill:"#6c63ff"}),React.createElement("rect",{x:"546.32",y:"602.45",width:"182.24",height:"148.73",fill:"#f5f5f5"}),React.createElement("rect",{x:"546.32",y:"631.77",width:"182.24",height:"90.07",fill:"#6c63ff"}),React.createElement("path",{d:"M791.73,727a13.36,13.36,0,1,0-23.08,9.15v28.51a9.72,9.72,0,0,0,19.44,0V736.18A13.3,13.3,0,0,0,791.73,727Z",transform:"translate(-140.93 -67.23)",fill:"url(#4745700d-8097-45ff-9f71-625443fc4ad8)"}),React.createElement("path",{d:"M789.89,729.38a11.52,11.52,0,1,0-19.9,7.89v24.58a8.38,8.38,0,1,0,16.76,0V737.27A11.47,11.47,0,0,0,789.89,729.38Z",transform:"translate(-140.93 -67.23)",opacity:"0.2"}))},D=wp.i18n.__,P=wp.components,k=P.Flex,N=P.FlexItem,S=P.FlexBlock,C=function(){return React.createElement(k,{style:{padding:"30px",background:"#fff"}},React.createElement(N,null,React.createElement(_,{width:"250px"})),React.createElement(S,{style:{marginLeft:"20px"}},React.createElement("h1",null,D("Get detailed video insights.","presto-player")),React.createElement("p",null,D("Upgrade to Pro and get video insights like plays, watch-time, and drop off numbers.","presto-player")),React.createElement("a",{href:"https://prestoplayer.com",target:"_blank",className:"button button-primary"},D("Learn More","presto-player"))))},F=a(10),T=a(5),M=a(3),I=a.n(M);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}wp.i18n.__;var V=wp.apiFetch,H=wp.element.useState,L=wp.compose.createHigherOrderComponent,U=function(){return L((function(e){return function(t){var a=H(!1),n=Object(r.a)(a,2),c=n[0],l=n[1],o=H(1),i=Object(r.a)(o,2),s=i[0],p=i[1],u=H(0),d=Object(r.a)(u,2),f=d[0],m=d[1],b=H(0),h=Object(r.a)(b,2),y=h[0],v=h[1],w=H([]),g=Object(r.a)(w,2),E=g[0],R=g[1],O=H(""),j=Object(r.a)(O,2),x=j[0],_=j[1],D=function(){var e=Object(T.a)(I.a.mark((function e(t){var a,r,n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.endpoint,r=t.params,n=void 0===r?{}:r,l(!0),e.prev=2,e.next=5,V({path:wp.url.addQueryArgs(a,A({page:s,per_page:5},n)),parse:!1}).then((function(e){var t=e.headers?parseInt(e.headers.get("X-WP-Total")):0,a=e.headers?parseInt(e.headers.get("X-WP-TotalPages")):0;return m(t),v(a),e.json()}));case 5:c=e.sent,R(c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.message&&_(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}();return React.createElement(e,Object.assign({loading:c,setLoading:l,fetchData:D,page:s,setPage:p,total:f,setTotal:m,totalPages:y,setTotalPages:v,data:E,setData:R,error:x,setError:_},t))}}),"withDataList")},G=wp.i18n,W=G.__,Z=G.sprintf,z=function(e){var t=(new Date).getTimezoneOffset();return new Date(e.getTime()-60*t*1e3).toISOString().split("T")[0]+"T00:00:00.000Z"},Y=wp.components,Q=Y.Spinner,X=Y.Flex,q=Y.FlexItem,J=function(e){var t=e.height,a=void 0===t?100:t;return React.createElement(X,{style:{height:"".concat(a,"px")},align:"center",justify:"center"},React.createElement(q,null,React.createElement(Q,null)))},$=wp.i18n.__,K=wp.components,ee=K.Card,te=K.CardBody,ae=K.Flex,re=K.FlexBlock,ne=K.Button,ce=K.ButtonGroup,le=wp.element,oe=le.useState,ie=le.useEffect,se=function(e){var t=e.page,a=e.setPage,n=e.perPage,c=e.total,l=e.totalPages,o=oe(!1),i=Object(r.a)(o,2),s=i[0],p=i[1],u=oe(!1),d=Object(r.a)(u,2),f=d[0],m=d[1],b=oe(0),h=Object(r.a)(b,2),y=h[0],v=h[1],w=oe(0),g=Object(r.a)(w,2),E=g[0],R=g[1];ie((function(){v(Math.min(n*t,c)),R(n*(t-1)+1)}),[n,t,c]);return ie((function(){p(t-1>0),m(l>=t+1)}),[t,l]),React.createElement(ee,{size:"large",className:"presto-card pagination"},React.createElement(te,{className:"presto-flow"},React.createElement(ae,null,React.createElement(re,null,sprintf($("Showing %1s to %2s of %3s","presto-player"),E,y,c)),React.createElement(re,null,React.createElement(ae,{justify:"flex-end"},React.createElement(ce,null,React.createElement(ne,{isSecondary:!0,disabled:!s,onClick:function(){a(Math.max(t-1,0))}},$("Previous","presto-player")),React.createElement(ne,{isSecondary:!0,disabled:!f,onClick:function(){a(Math.min(l,t+1))}},$("Next","presto-player"))))))))},pe=wp.i18n.__,ue=wp.element,de=(ue.useRef,ue.useEffect,ue.useState,wp.components),fe=de.Card,me=de.CardBody,be=(de.Flex,de.FlexBlock,de.Button,de.ButtonGroup,function(e){var t=e.columns,a=e.data,r=e.onRowClick,n=e.title;return a.length?React.createElement(fe,{size:"large",className:"presto-card table-card"},React.createElement(me,{className:"presto-flow"},React.createElement("div",{className:"presto-card__title"},n),React.createElement("table",{role:"table",className:O()("presto-table",{"is-clickable":r})},React.createElement("thead",{role:"rowgroup"},React.createElement("tr",{role:"row"},t&&t.map((function(e){return React.createElement("th",{key:e.key,role:"columnheader"},e.label)})))),React.createElement("tbody",{role:"rowgroup"},a.map((function(e,a){return React.createElement("tr",{role:"row",key:"row-".concat(a),onClick:function(){return r&&r(e)}},t.map((function(t,r){return React.createElement("td",{role:"cell","data-title":t.label,key:"row-".concat(a,"-").concat(r),"aria-label":t.label},t.render?t.render(e):React.createElement("div",null,t.value(e)))})))})))))):React.createElement(fe,{size:"large",className:"presto-card table-card"},React.createElement(me,{className:"presto-flow"},React.createElement("div",{className:"presto-card__title"},n),React.createElement("div",{style:{opacity:.65}},pe("No data available.","presto-player"))))}),he=wp.i18n.__,ye=wp.element,ve=(ye.useEffect,ye.useState,wp.components),we=ve.Card,ge=ve.CardBody,Ee=function(e){var t=e.perPage,a=void 0===t?10:t,r=e.title,n=e.page,c=e.setPage,l=e.loading,o=e.total,i=e.totalPages,s=e.columns,p=e.data,u=e.onSelect;return l?React.createElement(we,null,React.createElement(J,null)):null!=p&&p.length?React.createElement("div",{className:"datatable"},React.createElement(be,{data:p,columns:s,perPage:a,onRowClick:u,title:r}),!!o&&React.createElement(se,{page:n,setPage:c,perPage:a,total:o,totalPages:i})):React.createElement(we,{size:"large",className:"presto-card"},React.createElement(ge,{className:"presto-flow"},React.createElement("div",{className:"presto-card__title"},r),React.createElement("div",{style:{opacity:.65}},he("No data available.","presto-player"))))};function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var je=wp.i18n.__,xe=wp.element.useEffect,_e=(0,wp.compose.compose)([U()])((function(e){var t=e.loading,a=e.page,r=e.setPage,n=e.total,c=e.totalPages,l=e.data,o=e.error,i=e.fetchData,s=e.startDate,p=e.endDate;xe((function(){i({endpoint:"/presto-player/v1/analytics/top-users",params:Oe(Oe({per_page:5},s?{start:z(s)}:{}),p?{end:z(p)}:{})})}),[a,s,p]);var u=[{key:"name",label:je("Name","presto-player"),value:function(e){var t;return null==e||null===(t=e.user)||void 0===t?void 0:t.name}},{key:"total_view",label:je("Total View","presto-player"),value:function(e){var t,a;return null==e||null===(t=e.stats)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.data}},{key:"avg_view_time",label:je("Avg View Time","presto-player"),render:function(e){var t,a;return React.createElement("div",{className:"presto-badge"},null==e||null===(t=e.stats)||void 0===t||null===(a=t[1])||void 0===a?void 0:a.data)}}];return o?{error:o}:React.createElement(Ee,{title:je("Top Users","presto-player"),page:a,perPage:5,setPage:r,loading:t,total:n,totalPages:c,columns:u,data:l,onSelect:function(e){var t,a;return a=null==e||null===(t=e.user)||void 0===t?void 0:t.id,void h.push("#/user/".concat(a))}})}));function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ke=wp.i18n.__,Ne=wp.element.useEffect,Se=(0,wp.compose.compose)([U()])((function(e){var t=e.loading,a=e.page,r=e.setPage,n=e.total,c=e.totalPages,l=e.data,o=e.error,i=e.fetchData,s=e.startDate,p=e.endDate,u=e.userId;Ne((function(){i({endpoint:"/presto-player/v1/analytics/top-videos",params:Pe(Pe(Pe({per_page:10},s?{start:z(s)}:{}),p?{end:z(p)}:{}),u?{user_id:u}:{})})}),[a,s,p]);var d=[{key:"name",label:ke("Name","presto-player"),render:function(e){return React.createElement("h3",{style:{marginBottom:0,wordBreak:"break-all"}},e.video.title?e.video.title:ke("Untitled","presto-player"))}},{key:"total_view",label:ke("Total View","presto-player"),value:function(e){return e.stats[0].data}},{key:"avg_view_time",label:ke("Avg View Time","presto-player"),render:function(e){return React.createElement("div",{className:"presto-badge"},e.stats[1].data)}},{key:"view_more",label:"",render:function(e){return React.createElement("span",{style:{color:"var(--wp-admin-theme-color, #007cba)"}},ke("View Details","presto-player")," →")}}];return o?{error:o}:React.createElement(Ee,{title:ke("Top Media","presto-player"),perPage:10,page:a,setPage:r,loading:t,total:n,totalPages:c,columns:d,data:l,onSelect:function(e){var t,a;a=null==e||null===(t=e.video)||void 0===t?void 0:t.id,h.push("#/video/".concat(a))}})})),Ce=wp.apiFetch;Ce.use(Ce.createNonceMiddleware(prestoPlayer.nonce)),Ce.use(Ce.createRootURLMiddleware(prestoPlayer.root+prestoPlayer.prestoVersionString));var Fe=Ce,Te=a(9),Me=a.n(Te);function Ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ae,Ve=wp.i18n,He=Ve.__,Le=Ve.sprintf,Ue=wp.components,Ge=(Ue.Card,Ue.CardBody),We=wp.element,Ze=We.useState,ze=We.useEffect,Ye=(We.useRef,function(e){var t=Ze(!0),a=Object(r.a)(t,2),n=a[0],c=a[1],l=Ze(0),o=Object(r.a)(l,2),i=o[0],s=o[1],p=e.startDate,u=e.endDate,d=Ze([{name:"Views",data:[]}]),f=Object(r.a)(d,2),m=f[0],b=f[1],h={options:{chart:{toolbar:{show:!1}},yaxis:{min:0,labels:{formatter:function(e){return e<1?0:Math.abs(e)>999?Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k":Math.sign(e)*Math.abs(e).toFixed(0)}}},colors:["#7c3aed"],xaxis:{type:"datetime",min:new Date(p).setHours(0,0,0,0),max:new Date(u).setHours(23,59,59,999)},dataLabels:{enabled:!1},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}}}};ze((function(){y()}),[e]);var y=function(){c(!0),Fe({path:"/presto-player/v1/analytics/views?"+jQuery.param(Be(Be({},p?{start:z(p)}:{}),u?{end:z(u)}:{})),parse:!1}).then(function(){var e=Object(T.a)(I.a.mark((function e(t){var a,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(t.headers&&t.headers.get("X-WP-Total")),e.next=3,t.json();case 3:a=e.sent,r=[],a.length&&a.forEach((function(e){r.push({x:e.date_time,y:e.total})})),b([{name:"Views",data:r}]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)})).finally((function(){c(!1)}))};return n?React.createElement(Ge,null,React.createElement(J,null)):React.createElement(Ge,{className:"presto-flow"},React.createElement("div",{className:"presto-card__title"},Le(He("%d Unique Views","presto-player"),i)),React.createElement(Me.a,{options:h.options,series:m,type:"area",height:280}))}),Qe=wp.i18n,Xe=Qe.__,qe=Qe.sprintf,Je=wp.components,$e=(Je.Card,Je.CardBody),Ke=wp.element,et=Ke.useState,tt=Ke.useEffect,at=(Ke.useRef,function(e){var t=et(!0),a=Object(r.a)(t,2),n=a[0],c=a[1],l=et(0),o=Object(r.a)(l,2),i=o[0],s=o[1],p=e.startDate,u=e.endDate,d=et([{name:"Views",data:[]}]),f=Object(r.a)(d,2),m=f[0],b=f[1],h={options:{chart:{toolbar:{show:!1}},yaxis:{labels:{formatter:function(e){return Math.abs(e)>999?Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k min":(Math.sign(e)*Math.abs(e)).toFixed(1)+"min"}}},colors:["#7c3aed"],xaxis:{type:"datetime",min:new Date(p).setHours(0,0,0,0),max:new Date(u).setHours(23,59,59,999)},dataLabels:{enabled:!1},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}}}};tt((function(){R()}),[e]);var y,v,w,g,E,R=function(){c(!0),Fe({path:"/presto-player/v1/analytics/watch-time?"+jQuery.param({start:z(p),end:z(u)}),parse:!1}).then(function(){var e=Object(T.a)(I.a.mark((function e(t){var a,r,n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,r=a.data,n=a.average,s(parseFloat(n)),c=[],r.length&&r.forEach((function(e){c.push({x:e.date_time,y:(e.total/60).toFixed(2)})})),b([{name:"Watch Time",data:c}]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)})).finally((function(){c(!1)}))};return n?React.createElement($e,null,React.createElement(J,null)):React.createElement($e,{className:"presto-flow"},React.createElement("div",{className:"presto-card__title"},qe(Xe("%s average watch time","presto-player"),(y=i,v=Math.floor(y/60/60),w=Math.floor(y/60)-60*v,g=y%60,E="",v&&(E+=Z(W("%d hours","presto-player"),v)+", "),w&&(E+=Z(W("%d minutes","presto-player"),w)+" "),(v||w)&&g&&(E+=W("and","presto-player")+" "),E+=Z(W("%d seconds","presto-player"),g)))),React.createElement(Me.a,{options:h.options,series:m,type:"area",height:280}))}),rt=wp.i18n.__,nt=wp.components,ct=nt.Panel,lt=nt.TabPanel,ot=function(e){var t=e.startDate,a=e.endDate;return React.createElement(ct,null,React.createElement(lt,{className:"presto-module-tabs",onSelect:function(){},tabs:[{name:"views",title:rt("Views","presto-player")},{name:"watch",title:rt("Watch Time","presto-player")}]},(function(e){switch(e.name){case"views":return React.createElement(Ye,{startDate:t,endDate:a});case"watch":return React.createElement(at,{startDate:t,endDate:a});default:return React.createElement(React.Fragment,null,"Not Found")}})))},it=a(26),st=a.n(it),pt=(a(44),wp.i18n.__),ut=wp.element,dt=ut.useRef,ft=ut.useEffect,mt=ut.useState,bt=function(e){var t=e.startDate,a=e.setStartDate,n=e.endDate,c=e.setEndDate,l=dt(),o=mt(25),i=Object(r.a)(o,2),s=i[0],p=i[1];return ft((function(){new st.a({element:null==l?void 0:l.current,singleMode:!1,format:"MMMM D YYYY",autoApply:!1,plugins:["ranges"],maxDate:new Date,numberOfMonths:2,buttonText:{apply:pt("Apply","presto-player"),cancel:pt("Cancel","presto-player")},dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0},setup:function(e){e.setDateRange(t,n),e.on("button:apply",(function(e,t){a(e.dateInstance),c(t.dateInstance),p(l.current.value.length)}))}})}),[l]),React.createElement("div",{className:"component-base-control"},React.createElement("div",{className:"components-base-control__field"},React.createElement("input",{className:"components-text-control__input presto-settings__date-select",ref:l,size:s})))},ht=a(27),yt=a.n(ht),vt=a(28),wt=a(0),gt=wp.i18n.__,Et=wp.components,Rt=Et.Flex,Ot=Et.FlexBlock,jt=Et.FlexItem,xt=wp.element,_t=xt.useState,Dt=xt.useEffect,Pt=function(e){var t=e.startDate,a=e.endDate,n=e.setStartDate,c=e.setEndDate,l=_t(!1),o=Object(r.a)(l,2),i=o[0],s=o[1];return Dt((function(){yt()({path:"/wp/v2/settings"}).then((function(e){var t;!1===(null==e||null===(t=e.presto_player_analytics)||void 0===t?void 0:t.enable)&&s(!0)}))}),[]),Object(wt.b)(React.Fragment,null,i?Object(wt.b)(kt,null):"",Object(wt.b)(Rt,null,Object(wt.b)(Ot,null,Object(wt.b)("h1",null,gt("Analytics","presto-player"))),Object(wt.b)(jt,null,Object(wt.b)(bt,{startDate:t,setStartDate:n,endDate:a,setEndDate:c}))),Object(wt.b)("div",{className:"presto-flow"},Object(wt.b)("div",{className:"presto-dashboard"},Object(wt.b)("div",{className:"presto-dashboard__row"},Object(wt.b)("div",{className:"presto-dashboard__item is-large"},Object(wt.b)(ot,{startDate:t,endDate:a})),Object(wt.b)("div",{className:"presto-dashboard__item"},Object(wt.b)(_e,{startDate:t,endDate:a}))),Object(wt.b)("div",{className:"presto-dashboard__row"},Object(wt.b)("div",{className:"presto-dashboard__item is-large"},Object(wt.b)(Se,{startDate:t,endDate:a}))))))},kt=function(){return Object(wt.b)(vt.Notice,{css:Object(wt.a)(Ae||(Ae=Object(F.a)(["\n      margin: 0 0 1em 0 !important;\n    "]))),status:"warning",isDismissible:!1},Object(wt.b)("p",null,gt("Analytics are currently disabled. To collect analytics, turn them on in your settings page.","presto-player")))},Nt=wp.components,St=Nt.Card,Ct=Nt.CardBody,Ft=function(e){var t=e.loading,a=e.title,r=e.value,n=e.label;return t?React.createElement(St,null,React.createElement(Ct,null,React.createElement(J,null))):React.createElement(St,{className:"presto-player__stat-card"},React.createElement(Ct,null,React.createElement("div",{className:"presto-subtitle"},a),React.createElement("h1",null,r),React.createElement("div",null,n)))};function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var It,Bt,At,Vt=wp.apiFetch,Ht=wp.element.useState,Lt=wp.compose.createHigherOrderComponent,Ut=function(){return Lt((function(e){return function(t){var a=Ht(!1),n=Object(r.a)(a,2),c=n[0],l=n[1],o=Ht([]),i=Object(r.a)(o,2),s=i[0],p=i[1],u=Ht(""),d=Object(r.a)(u,2),f=d[0],m=d[1],b=function(){var e=Object(T.a)(I.a.mark((function e(t){var a,r,n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.endpoint,r=t.params,n=void 0===r?{}:r,l(!0),e.prev=2,e.next=5,Vt({path:wp.url.addQueryArgs(a,Mt({},n))});case 5:c=e.sent,p(c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.message&&m(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}();return React.createElement(e,Object.assign({loading:c,setLoading:l,fetchData:b,stat:s,setStat:p,error:f,setError:m},t))}}),"withStat")},Gt=wp.i18n.__,Wt=wp.compose.compose,Zt=wp.element.useEffect,zt=Wt([Ut()])((function(e){var t=e.userId,a=e.startDate,r=e.endDate,n=e.stat,c=e.fetchData,l=e.loading;return Zt((function(){c({endpoint:"/presto-player/v1/analytics/user/".concat(t,"/total-views"),params:{start:z(a),end:z(r)}})}),[a,r]),React.createElement(Ft,{loading:l,value:parseInt(null==n?void 0:n.view),title:Gt("Total Views","presto-player")})})),Yt=wp.i18n.__,Qt=wp.compose.compose,Xt=wp.element.useEffect,qt=Qt([Ut()])((function(e){var t=e.userId,a=e.startDate,r=e.endDate,n=e.stat,c=e.fetchData,l=e.loading;return Xt((function(){c({endpoint:"/presto-player/v1/analytics/user/".concat(t,"/average-watchtime"),params:{start:z(a),end:z(r)}})}),[a,r]),React.createElement(Ft,{loading:l,value:parseFloat(null==n?void 0:n.view).toFixed(2),title:Yt("Average Watch Time","presto-player"),label:Yt("seconds","presto-player")})})),Jt=wp.i18n.__,$t=wp.compose.compose,Kt=wp.element.useEffect,ea=$t([Ut()])((function(e){var t=e.userId,a=e.startDate,r=e.endDate,n=e.stat,c=e.fetchData,l=e.loading;return Kt((function(){c({endpoint:"/presto-player/v1/analytics/user/".concat(t,"/total-watchtime"),params:{start:z(a),end:z(r)}})}),[a,r]),React.createElement(Ft,{loading:l,value:parseFloat(null==n?void 0:n.view).toFixed(2),title:Jt("Total Watch Time","presto-player"),label:Jt("seconds","presto-player")})})),ta=wp.i18n.__,aa=wp.components,ra=aa.Flex,na=aa.FlexBlock,ca=aa.FlexItem,la=aa.Spinner,oa=aa.Button,ia=wp.element,sa=ia.useEffect,pa=ia.useState,ua=wp.apiFetch,da=function(e){var t,a,n,c,l=e.route,o=e.startDate,i=e.endDate,s=e.setStartDate,p=e.setEndDate,u=pa(!0),d=Object(r.a)(u,2),f=d[0],m=d[1],b=pa({}),y=Object(r.a)(b,2),v=y[0],w=y[1],g=pa(""),E=Object(r.a)(g,2),R=E[0],O=E[1],j=function(){var e=Object(T.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,ua({url:"/wp-json/wp/v2/users/".concat(null==l||null===(t=l.params)||void 0===t?void 0:t.id,"?context=edit")});case 4:a=e.sent,w(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),"rest_no_route"===e.t0.code&&O("User Not Found");case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return sa((function(){j()}),[]),R?Object(wt.b)("div",{className:"presto-flow"},Object(wt.b)(ra,null,Object(wt.b)(na,null,Object(wt.b)("h2",null,R)))):Object(wt.b)("div",{className:"presto-flow"},Object(wt.b)(ra,null,Object(wt.b)(na,null,Object(wt.b)(oa,{isSecondary:!0,onClick:function(){h.push("#/")}},"← ",ta("Back to Dashboard","presto-player")))),Object(wt.b)(ra,{wrap:!0},Object(wt.b)(na,null,f?Object(wt.b)(la,null):Object(wt.b)("div",{css:Object(wt.a)(It||(It=Object(F.a)(["\n                display: flex;\n                align-items: center;\n\n                .presto__edit-user-button {\n                  opacity: 0;\n                  visibility: hidden;\n                  transition: opacity 0.3s ease;\n                }\n\n                &:hover {\n                  .presto__edit-user-button {\n                    opacity: 1;\n                    visibility: visible;\n                  }\n                }\n              "])))},Object(wt.b)("div",null,Object(wt.b)("h1",{className:"presto-dashboard__title"},null==v?void 0:v.name),Object(wt.b)("p",{css:Object(wt.a)(Bt||(Bt=Object(F.a)(["\n                    margin-top: -10px;\n                    opacity: 0.65;\n                  "])))},null==v?void 0:v.email)),!!v.id&&Object(wt.b)("div",{className:"presto__edit-user-button",css:Object(wt.a)(At||(At=Object(F.a)(["\n                    margin: 0 20px;\n                  "])))},Object(wt.b)(oa,{href:"/wp-admin/user-edit.php?user_id=".concat(null==v?void 0:v.id),isSecondary:!0,isSmall:!0},ta("View Profile","presto-player")," →")))),Object(wt.b)(ca,null,Object(wt.b)(bt,{startDate:o,setStartDate:s,endDate:i,setEndDate:p}))),Object(wt.b)("div",{className:"presto-dashboard presto-flow"},Object(wt.b)("div",{className:"presto-dashboard__row"},Object(wt.b)("div",{className:"presto-dashboard__item"},Object(wt.b)(zt,{userId:null==l||null===(t=l.params)||void 0===t?void 0:t.id,startDate:o,endDate:i})),Object(wt.b)("div",{className:"presto-dashboard__item"},Object(wt.b)(qt,{userId:null==l||null===(a=l.params)||void 0===a?void 0:a.id,startDate:o,endDate:i})),Object(wt.b)("div",{className:"presto-dashboard__item"},Object(wt.b)(ea,{userId:null==l||null===(n=l.params)||void 0===n?void 0:n.id,startDate:o,endDate:i}))),Object(wt.b)("div",{className:"presto-dashboard__row"},Object(wt.b)("div",{className:"presto-dashboard__item is-large"},Object(wt.b)(Se,{startDate:o,endDate:i,userId:null==l||null===(c=l.params)||void 0===c?void 0:c.id})))))},fa=wp.i18n.__,ma=wp.compose.compose,ba=wp.element.useEffect,ha=ma([Ut()])((function(e){var t=e.video_id,a=e.startDate,r=e.endDate,n=e.stat,c=e.fetchData,l=e.loading;return ba((function(){c({endpoint:"/presto-player/v1/analytics/video/".concat(t,"/average-watchtime"),params:{start:z(a),end:z(r)}})}),[a,r]),React.createElement(Ft,{loading:l,value:parseInt(n),title:fa("Average Watch Time","presto-player"),label:fa("seconds","presto-player")})})),ya=wp.i18n,va=ya.__,wa=(ya.sprintf,wp.components),ga=wa.Card,Ea=wa.CardBody,Ra=wp.element,Oa=Ra.useState,ja=Ra.useEffect,xa=(Ra.useRef,function(e){var t=e.video_id,a=e.startDate,n=e.endDate,c=Oa(!0),l=Object(r.a)(c,2),o=l[0],i=l[1],s=Oa([{name:"Views",data:[]}]),p=Object(r.a)(s,2),u=p[0],d=p[1];ja((function(){i(!0),Fe({path:wp.url.addQueryArgs("/presto-player/v1/analytics/video/".concat(t,"/timeline"),{start:z(a),end:z(n)})}).then((function(e){var t=[];e.length&&e.forEach((function(e){t.push({x:e.watch_time,y:e.total})})),d([{name:"Viewers",data:t}])})).catch((function(e){console.error(e)})).finally((function(){i(!1)}))}),[a,n]);var f={options:{chart:{toolbar:{show:!1}},tickAmount:1,yaxis:{labels:{formatter:function(e){return parseInt(e)}}},xaxis:{labels:{formatter:function(e){return t=e,t=1e3*parseInt(t||0),new Date(t).toISOString().substr(11,8);var t}}},colors:["#7c3aed"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}}}};return o?React.createElement(ga,null,React.createElement(Ea,null,React.createElement(J,null))):React.createElement(ga,null,React.createElement(Ea,null,React.createElement("div",{className:"presto-card__title"},va("Audience Retention","presto-player")),React.createElement(Me.a,{options:f.options,series:u,type:"area",height:280})))}),_a=wp.i18n.__,Da=wp.compose.compose,Pa=wp.element.useEffect,ka=Da([Ut()])((function(e){var t=e.video_id,a=e.startDate,r=e.endDate,n=e.stat,c=e.fetchData,l=e.loading;return Pa((function(){c({endpoint:"/presto-player/v1/analytics/video/".concat(t,"/views"),params:{start:z(a),end:z(r)}})}),[a,r]),React.createElement(Ft,{loading:l,value:parseInt(n),title:_a("Unique Views","presto-player")})})),Na=a(29),Sa=a(30),Ca=a(33),Fa=a(34),Ta=a(17),Ma=a(11),Ia=a.n(Ma),Ba=function(e){return e.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}))},Aa=a(31),Va=function(e,t,a){var r=t.className||t.class,n=a.className||a.class,c=Ua(e),l=Ua(r?r.split(" "):[]),o=Ua(n?n.split(" "):[]),i=[];return c.forEach((function(e){l.has(e)?(i.push(e),l.delete(e)):o.has(e)||i.push(e)})),l.forEach((function(e){return i.push(e)})),i.join(" ")},Ha=function(e){if("undefined"==typeof document)return!0;var t="on"+e,a=t in document;if(!a){var r=document.createElement("div");r.setAttribute(t,"return;"),a="function"==typeof r[t]}return a},La=function(e,t,a){var r=e.__events||(e.__events={}),n=r[t];n&&e.removeEventListener(t,n),e.addEventListener(t,r[t]=function(e){a&&a.call(this,e)})},Ua=function(e){var t=new Map;return e.forEach((function(e){return t.set(e,e)})),t},Ga=function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)},Wa=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){t.forEach((function(t){Ga(t,e)}))}};function Za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(Ta.a)(e);if(t){var n=Object(Ta.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Fa.a)(this,a)}}var za=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},Ya=function(e,t,a,r){void 0!==r&&r();var n=e.toLowerCase().split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(""),c=function(t){Object(Ca.a)(c,t);var r=Za(c);function c(e){var t;return Object(Na.a)(this,c),(t=r.call(this,e)).setComponentElRef=function(e){t.componentEl=e},t}return Object(Sa.a)(c,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){!function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Element){var r=Va(e.classList,t,a);""!==r&&(e.className=r),Object.keys(t).forEach((function(a){if("children"!==a&&"style"!==a&&"ref"!==a&&"class"!==a&&"className"!==a&&"forwardedRef"!==a)if(0===a.indexOf("on")&&a[2]===a[2].toUpperCase()){var r=a.substring(2),n=r[0].toLowerCase()+r.substring(1);Ha(n)||La(e,n,t[a])}else{e[a]=t[a],"string"===Object(Aa.a)(t[a])&&e.setAttribute(Ba(a),t[a])}}))}}(this.componentEl,this.props,e)}},{key:"render",value:function(){var t=this.props,r=t.children,n=t.forwardedRef,c=t.style,l=(t.className,t.ref,za(t,["children","forwardedRef","style","className","ref"])),o=Object.keys(l).reduce((function(e,t){if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){var a=t.substring(2).toLowerCase();"undefined"!=typeof document&&Ha(a)&&(e[t]=l[t])}else e[t]=l[t];return e}),{});a&&(o=a(this.props,o));var i=Object.assign(Object.assign({},o),{ref:Wa(n,this.setComponentElRef),style:c});return Ia.a.createElement(e,i,r)}}],[{key:"displayName",get:function(){return n}}]),c}(Ia.a.Component);return t&&(c.contextType=t),function(e,t){var a=function(t,a){return Ia.a.createElement(e,Object.assign({},t,{forwardedRef:a}))};return a.displayName=t,Ia.a.forwardRef(a)}(c,n)},Qa=Ya("presto-player"),Xa=wp.element;Xa.useRef,Xa.useEffect;function qa(e){if(e){if(e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/))return"youtube";if(e.match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/([a-z]*\/)*([‌​0-9]{6,11})[?]?.*/))return"vimeo";if(e.indexOf("https://vz-")>-1&&e.indexOf("b-cdn.net")>-1)return"bunny";if(e.indexOf(".mp3")>-1)return"audio"}return"self-hosted"}function Ja(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function $a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ja(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ka=wp.data.useSelect,er=function(e){var t,a,r,n=e.src,c=e.classes,l=e.preset,o=e.branding,i=e.attributes,s=e.adminPreview,p=e.currentTime,u=e.preload,d=void 0===u?"metadata":u,f=e.overlays,m=e.type,b=i.chapters,h=i.mutedOverlay,y=i.mutedPreview,v=Ka((function(e){var t;return null===(t=e("presto-player/player"))||void 0===t?void 0:t.youtube()})),w=Ka((function(e){var t;return null===(t=e("presto-player/player"))||void 0===t?void 0:t.playerCSS()}));return React.createElement("div",{className:"wp-block-video presto-block-video",style:"audio"===m?$a($a($a({"--presto-player-border-radius":"".concat(null==l?void 0:l.border_radius,"px")},null!=l&&l.background_color?{"--plyr-audio-controls-background":l.background_color}:{"--plyr-audio-controls-background":null==o?void 0:o.color}),null!=l&&l.control_color?{"--plyr-audio-control-color":l.control_color,"--plyr-range-thumb-background":l.control_color,"--plyr-range-fill-background":l.control_color,"--plyr-audio-progress-buffered-background":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=e.replace("#","");3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);var r=parseInt(a.substring(0,2),16),n=parseInt(a.substring(2,4),16),c=parseInt(a.substring(4,6),16);return t>1&&t<=100&&(t/=100),"rgba("+r+","+n+","+c+","+t+")"}(l.control_color||(null==o?void 0:o.color)||"#00b3ff",.5)}:{"--plyr-audio-control-color":"#ffffff","--plyr-range-thumb-background":"#ffffff","--plyr-range-fill-background":"#ffffff"}),{},{"--plyr-range-thumb-shadow":"0px"}):$a($a($a({"--presto-player-border-radius":"".concat(null==l?void 0:l.border_radius,"px")},null!=l&&l.caption_background?{"--plyr-captions-background":l.caption_background}:{}),null!=o&&o.color?{"--plyr-color-main":o.color}:{}),{},{"--presto-player-email-border-radius":"".concat((null==l||null===(t=l.email_collection)||void 0===t?void 0:t.border_radius)||0,"px"),"--presto-player-logo-width":"".concat((null==o?void 0:o.logo_width)||75,"px")})},React.createElement(Qa,{src:n,css:w,classes:c,currentTime:p,overlays:f,isAdmin:!0,preload:d,preset:l,bunny:{thumbnail:null==i?void 0:i.previewThumbnail,preview:null==i?void 0:i.preview},youtube:{channelId:null==v?void 0:v.channel_id},tracks:!(null==l||!l.captions)&&[{kind:"captions",label:"English",srclang:"en",src:"/path/to/captions.en.vtt",default:!0}],branding:o,chapters:b,blockAttributes:i,poster:i.poster,provider:"audio"===m?"audio":qa(n),mediaTitle:i.title},React.createElement("div",{slot:"player-end"},(null==y?void 0:y.enabled)&&(null==h?void 0:h.enabled)&&React.createElement("div",{className:"presto-player__overlay is-image",style:{position:"absolute",width:"".concat((null==h?void 0:h.width)||100,"%"),left:"".concat(100*((null==h||null===(a=h.focalPoint)||void 0===a?void 0:a.x)||.5),"%"),top:"".concat(100*((null==h||null===(r=h.focalPoint)||void 0===r?void 0:r.y)||.5),"%")}},React.createElement("img",{src:null==h?void 0:h.src,style:{transform:"translateX(-50%) translateY(-50%)"}})),s)))};function tr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ar(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rr=wp.i18n.__,nr=wp.components,cr=nr.Flex,lr=nr.FlexBlock,or=nr.FlexItem,ir=nr.Spinner,sr=nr.Button,pr=nr.TextControl,ur=wp.element,dr=ur.useEffect,fr=ur.useState,mr=wp.apiFetch,br=function(e){var t,a,n,c=e.route,l=e.startDate,o=e.endDate,i=e.setStartDate,s=e.setEndDate,p=fr(!0),u=Object(r.a)(p,2),d=u[0],f=u[1],m=fr({}),b=Object(r.a)(m,2),y=b[0],v=b[1],w=fr(""),g=Object(r.a)(w,2),E=g[0],R=g[1],O=fr(null),j=Object(r.a)(O,2),x=j[0],_=j[1],D=fr(!1),P=Object(r.a)(D,2),k=P[0],N=P[1],S=function(){var e=Object(T.a)(I.a.mark((function e(){var t,a,r,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,mr({url:"".concat(null===(t=prestoPlayer)||void 0===t?void 0:t.root).concat(null===(a=prestoPlayer)||void 0===a?void 0:a.prestoVersionString,"videos/").concat(null==c||null===(r=c.params)||void 0===r?void 0:r.id)});case 4:n=e.sent,v(n),_(null==n?void 0:n.title),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),"rest_no_route"===e.t0.code&&R("Video Not Found");case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(T.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("New Video title  ".concat(x)),f(!0),e.prev=2,t=ar(ar({},y),{title:x}),e.next=6,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"videos/").concat(y.id),{_method:"PUT"}),data:t});case 6:if(a=e.sent){e.next=9;break}throw genericError;case 9:N(!1),v(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),R(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:genericError);case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),F=function(){_(null==y?void 0:y.title),N(!1)};return dr((function(){S()}),[]),E?React.createElement("div",{className:"presto-flow"},React.createElement(cr,null,React.createElement(lr,null,React.createElement("h2",null,E)))):React.createElement("div",{className:"presto-flow"},React.createElement(cr,null,React.createElement(lr,null,React.createElement(sr,{isSecondary:!0,onClick:function(){h.push("#/")}},"← ",rr("Back to Dashboard","presto-player")))),React.createElement(cr,{wrap:!0},React.createElement(lr,null,d?React.createElement(ir,null):k?React.createElement("div",{className:"presto-inline-edit presto-inline-edit--editing"},React.createElement(pr,{className:"presto-inline-edit__input",type:"text",value:x,onChange:function(e){return _(e)}}),React.createElement(sr,{className:"presto-inline-edit__button",isPrimary:!0,onClick:C}," ","Save"," "),React.createElement(sr,{className:"presto-inline-edit__button",isSecondary:!0,onClick:F}," ","Cancel"," ")):React.createElement("div",{className:"presto-inline-edit"},React.createElement("h1",{className:"presto-dashboard__title presto-inline-edit__text"},null==y?void 0:y.title),React.createElement("button",{className:"presto-inline-edit__edit",onClick:function(){return N(!0)}},React.createElement("span",{className:"dashicon dashicons dashicons-edit"})))),React.createElement(or,null,React.createElement(bt,{startDate:l,setStartDate:i,endDate:o,setEndDate:s}))),React.createElement("div",{className:"presto-dashboard presto-flow"},React.createElement("div",{className:"presto-dashboard__row"},React.createElement("div",{className:"presto-dashboard__item is-large"},React.createElement(ka,{video_id:null==c||null===(t=c.params)||void 0===t?void 0:t.id,startDate:l,endDate:o})),React.createElement("div",{className:"presto-dashboard__item"},!!Object.keys(y||{}).length&&React.createElement(er,{src:null==y?void 0:y.src,attributes:{title:y.title},type:qa(y.src),preset:{"play-large":!0,play:!0,progress:!0,rewind:!0,"fast-forward":!0,"current-time":!0,background_color:"#8421cb",volume:!0,mute:!0,i18n:window.prestoPlayer.i18n}})),React.createElement("div",{className:"presto-dashboard__item"},React.createElement(ha,{video_id:null==c||null===(a=c.params)||void 0===a?void 0:a.id,startDate:l,endDate:o}))),React.createElement("div",{className:"presto-dashboard__row"},React.createElement("div",{className:"presto-dashboard__item is-large"},React.createElement(xa,{video_id:null==c||null===(n=c.params)||void 0===n?void 0:n.id,startDate:l,endDate:o})))))},hr={dashboard:{path:"/"},video:{path:"/video/:id"},user:{path:"/user/:id"}},yr=wp.element.useState,vr=function(){var e,t=function(){window.scrollTo(0,0)},a=yr(new Date(Date.now()-6048e5)),n=Object(r.a)(a,2),c=n[0],l=n[1],o=yr(new Date),i=Object(r.a)(o,2),s=i[0],p=i[1];return null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?React.createElement("div",{className:"presto-dashboard__content"},React.createElement(x,{routes:hr},React.createElement(E,{path:hr.dashboard.path,onRoute:t},React.createElement(Pt,{startDate:c,endDate:s,setStartDate:l,setEndDate:p})),React.createElement(E,{path:hr.video.path,onRoute:t},React.createElement(br,{startDate:c,endDate:s,setStartDate:l,setEndDate:p})),React.createElement(E,{path:hr.user.path,onRoute:t},React.createElement(da,{startDate:c,endDate:s,setStartDate:l,setEndDate:p})))):React.createElement("div",{className:"presto-dashboard__content"},React.createElement(C,null))};(0,wp.element.render)(React.createElement(vr,null),document.getElementById("presto-analytics-page"))}},[[35,1,2]]]);
//# sourceMappingURL=admin-9ff30d14.js.map